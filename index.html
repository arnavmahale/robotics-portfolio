<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Beer Pong Robot Arm | Robotics Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="Kinova Gen3 Lite robot playing beer pong using ROS 2, MoveIt 2, and RealSense-based perception."
  />
  <style>
    :root {
      --bg: #050816;
      --bg-alt: #0b1020;
      --card: #111827;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.21);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --border: #1f2937;
      --radius-lg: 18px;
      --radius-xl: 24px;
      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.65);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #111827 0, #020617 50%, #000 100%);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    a {
      color: var(--accent);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .page {
      max-width: 1080px;
      margin: 0 auto;
      padding: 24px 16px 64px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 24px;
      padding: 14px 18px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.2);
      backdrop-filter: blur(22px);
      position: sticky;
      top: 16px;
      z-index: 10;
      box-shadow: 0 10px 35px rgba(15, 23, 42, 0.6);
    }

    header h1 {
      font-size: 18px;
      font-weight: 600;
      letter-spacing: 0.02em;
    }

    header span {
      font-size: 12px;
      color: var(--muted);
    }

    nav {
      display: flex;
      gap: 12px;
      font-size: 13px;
    }

    nav a {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid transparent;
      background: transparent;
      color: var(--muted);
    }

    nav a:hover {
      border-color: rgba(148, 163, 184, 0.5);
      color: var(--text);
      text-decoration: none;
      background: rgba(15, 23, 42, 0.7);
    }

    nav a.primary {
      border-color: rgba(56, 189, 248, 0.7);
      background: radial-gradient(circle at top left, #0ea5e9, #0369a1);
      color: #e0f2fe;
      box-shadow: 0 10px 25px rgba(56, 189, 248, 0.45);
    }

    nav a.primary:hover {
      background: radial-gradient(circle at top left, #38bdf8, #028c7c);
    }

    main {
      margin-top: 28px;
      display: flex;
      flex-direction: column;
      gap: 32px;
    }

    .hero {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.2fr);
      gap: 22px;
      align-items: center;
    }

    .hero-text h2 {
      font-size: 32px;
      line-height: 1.1;
      margin-bottom: 12px;
    }

    .hero-text h2 span {
      color: var(--accent);
    }

    .subheading {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 14px;
    }

    .hero-text p {
      font-size: 14px;
      color: #d1d5db;
      max-width: 600px;
    }

    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 16px;
      margin-bottom: 4px;
    }

    .badge {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: rgba(15, 23, 42, 0.85);
      color: #e5e7eb;
    }

    .badge.accent {
      border-color: rgba(56, 189, 248, 0.7);
      background: var(--accent-soft);
      color: #e0f2fe;
    }

    .hero-media {
      border-radius: var(--radius-xl);
      padding: 14px;
      background: radial-gradient(circle at top left, #0f172a, #020617);
      border: 1px solid rgba(31, 41, 55, 0.9);
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .hero-media-inner {
      border-radius: 16px;
      border: 1px solid rgba(75, 85, 99, 0.7);
      background: #020617;
      aspect-ratio: 16/9;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .hero-media-inner p {
      font-size: 13px;
      color: var(--muted);
      padding: 0 16px;
      text-align: center;
    }

    .video-pill {
      position: absolute;
      left: 16px;
      top: 16px;
      padding: 5px 10px;
      font-size: 11px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.92);
      border: 1px solid rgba(148, 163, 184, 0.6);
      color: #e5e7eb;
    }

    .corner-tag {
      position: absolute;
      right: -30px;
      bottom: 12px;
      transform: rotate(-10deg);
      padding: 4px 18px;
      font-size: 10px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: #a5b4fc;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px dashed rgba(129, 140, 248, 0.7);
    }

    section {
      border-radius: var(--radius-xl);
      padding: 18px 18px 20px;
      background: rgba(15, 23, 42, 0.96);
      border: 1px solid var(--border);
      box-shadow: 0 16px 45px rgba(15, 23, 42, 0.85);
    }

    section + section {
      margin-top: 6px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 12px;
      margin-bottom: 12px;
    }

    .section-header h3 {
      font-size: 18px;
      font-weight: 600;
    }

    .section-header span {
      font-size: 12px;
      color: var(--muted);
    }

    .two-col {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
      gap: 18px;
    }

    .section p {
      font-size: 13px;
      color: #d1d5db;
      margin-bottom: 10px;
    }

    ul {
      list-style: none;
      padding-left: 0;
    }

    li {
      font-size: 13px;
      color: #d1d5db;
      margin-bottom: 6px;
      display: flex;
      gap: 8px;
    }

    li::before {
      content: "•";
      color: var(--accent);
      margin-top: 2px;
      font-size: 14px;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 6px;
    }

    .pill {
      font-size: 11px;
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15, 23, 42, 0.88);
      color: #e5e7eb;
    }

    .pill.highlight {
      border-color: rgba(56, 189, 248, 0.9);
      background: var(--accent-soft);
      color: #e0f2fe;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
      margin-top: 8px;
    }

    .card {
      border-radius: 16px;
      padding: 12px 12px 14px;
      background: #020617;
      border: 1px solid rgba(31, 41, 55, 0.9);
    }

    .card h4 {
      font-size: 13px;
      margin-bottom: 6px;
    }

    .card p {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 0;
    }

    .tag-label {
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .diagram-box {
      border-radius: 16px;
      border: 1px dashed rgba(148, 163, 184, 0.7);
      padding: 12px;
      font-size: 12px;
      color: var(--muted);
      background: rgba(2, 6, 23, 0.9);
    }

    .diagram-box strong {
      color: var(--accent);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 4px;
      font-size: 12px;
    }

    th,
    td {
      border: 1px solid rgba(31, 41, 55, 0.9);
      padding: 6px 8px;
      text-align: left;
    }

    th {
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      font-weight: 500;
    }

    td {
      color: #d1d5db;
    }

    .footnote {
      font-size: 11px;
      color: var(--muted);
      margin-top: 8px;
    }

    footer {
      margin-top: 20px;
      padding: 10px 4px 0;
      font-size: 11px;
      color: var(--muted);
      text-align: center;
    }

    footer span {
      color: var(--accent);
    }

    @media (max-width: 900px) {
      header {
        flex-direction: column;
        align-items: flex-start;
        border-radius: 18px;
      }

      .hero {
        grid-template-columns: minmax(0, 1fr);
      }

      .hero-media {
        order: -1;
      }

      .card-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 640px) {
      .page {
        padding: 20px 14px 40px;
      }

      header {
        position: static;
      }

      .hero-text h2 {
        font-size: 24px;
      }

      .two-col {
        grid-template-columns: minmax(0, 1fr);
      }

      .card-grid {
        grid-template-columns: minmax(0, 1fr);
      }

      section {
        padding: 14px 14px 16px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div>
        <h1>Arnav Mahale</h1>
        <span>Beer Pong Robot Arm · Intro to Robotics Final Project</span>
      </div>
      <nav>
        <a href="#overview">Overview</a>
        <a href="#design">System Design</a>
        <a href="#perception">Perception</a>
        <a href="#results" class="primary">Results</a>
        <a href="#video">Demo</a>
      </nav>
    </header>

    <main>
      <!-- HERO -->
      <section class="hero" id="top">
        <div class="hero-text">
          <div class="subheading">Intro to Robotics · Fall 2025</div>
          <h2>
            Robot Arm <span>Playing Beer Pong</span>
          </h2>
          <p>
            For our final project, my team and I built <em>KinoVaPong</em>: a Kinova Gen3
            Lite manipulator that can autonomously play a game of beer pong. Using
            ROS&nbsp;2, MoveIt&nbsp;2, and a RealSense RGB-D camera, the robot picks up a
            ping-pong ball from a known location and executes a fast, human-like throwing
            motion that lands the ball in a fixed red cup on a distant table.
          </p>

          <div class="hero-badges">
            <div class="badge accent">Manipulation & Trajectory Control</div>
            <div class="badge">Forward & Inverse Kinematics</div>
            <div class="badge">Vision-guided Yaw Alignment</div>
            <div class="badge">Python · ROS 2 · MoveIt 2</div>
          </div>
        </div>

        <div class="hero-media" id="video">
          <div class="video-pill">Demo Video</div>
          <div class="hero-media-inner">
            <video controls style="width: 100%; height: 100%; object-fit: contain;">
              <source src="videos/throw_10deg.mp4" type="video/mp4" />
              Your browser does not support the video tag.
            </video>
          </div>
          <div class="corner-tag">Final Project</div>
        </div>
      </section>

      <!-- OVERVIEW -->
      <section id="overview">
        <div class="section-header">
          <h3>Project Overview</h3>
          <span>High-level behavior and goals</span>
        </div>

        <div class="two-col">
          <div>
            <p>
              The robot’s job is to autonomously perform a full beer-pong throw: pick up a
              ball from a designated pickup spot, lift to a safe height, rotate toward the
              detected cup, and execute a dynamic swing that releases the ball in mid-air
              toward the target. The cup is kept at a fixed position on a “beer pong” table,
              while the robot operates on a separate table with a known ball start pose.
            </p>
            <p>
              Our ROS&nbsp;2 package implements a <code>BeerPongThrow</code> node that
              orchestrates the pick–lift–throw sequence and connects to MoveIt&nbsp;2
              for motion planning on the Kinova Gen3 Lite. A separate
              <code>RedCupAnglePublisher</code> node uses an Intel RealSense camera to
              detect the red cup and compute its yaw angle; this angle is fed into
              the throwing node so the robot can align its base joint before the
              swing.
            </p>
          </div>
          <div>
            <div class="tag-label">Setup & human role</div>
            <ul>
              <li>Kinova Gen3 Lite arm with 2F gripper, on a lab table.</li>
              <li>Single red cup on a distant marked location on the target table.</li>
              <li>Ping-pong ball placed at a fixed pickup location within the arm’s reach.</li>
              <li>
                Human operator starts ROS&nbsp;2 nodes, supervises throws, and resets
                the ball and cups between trials while staying outside the robot’s
                workspace for safety.
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- SYSTEM DESIGN -->
      <section id="design">
        <div class="section-header">
          <h3>System Design</h3>
          <span>Hardware, software, and control pipeline</span>
        </div>

        <div class="card-grid">
          <div class="card">
            <h4>Hardware</h4>
            <p>
              • Kinova Gen3 Lite 6-DOF manipulator<br />
              • Kinova 2F gripper for grasping the ball<br />
              • Intel RealSense RGB-D camera overlooking both tables<br />
              • Fixed tables with marked ball pickup and cup locations
            </p>
          </div>
          <div class="card">
            <h4>Software & Nodes</h4>
            <p>
              • ROS&nbsp;2 nodes <code>BeerPongThrow</code> and
              <code>RedCupAnglePublisher</code><br />
              • MoveIt&nbsp;2 motion planning with Kinova<br />
              • Planning scene with the ball as an attachable collision object<br />
              • Multi-threaded ROS&nbsp;2 executor for concurrent motion and sensing
            </p>
          </div>
          <div class="card">
            <h4>Control Logic</h4>
            <p>
              • Pick–lift–throw sequence implemented in <code>throw_ball_forward()</code><br />
              • Angle-based release monitor on <code>joint_3</code> at 100&nbsp;Hz<br />
              • Release signal published when the joint enters a tolerance window
                around the target angle (e.g., −45°)<br />
              • Logging and basic error handling for camera and collision operations
            </p>
          </div>
        </div>

        <div style="margin-top:16px;" class="two-col">
          <div>
            <div class="tag-label">Control pipeline</div>
            <ul>
              <li>Human places ball and cup, then starts both ROS&nbsp;2 nodes.</li>
              <li>Vision node publishes the cup’s yaw angle on <code>camera_start_angle_deg</code>.</li>
              <li>
                <code>BeerPongThrow</code> moves to a home pose, picks up the ball,
                and lifts to a safe height.
              </li>
              <li>
                The base joint (<code>joint_1</code>) is set to the camera-derived yaw
                angle; <code>joint_3</code> is moved to a −90° backswing, then swung
                through +90° while monitoring for the release angle.
              </li>
              <li>
                The ball is released mid-swing and the robot returns home while the
                human operator resets the scene for the next attempt.
              </li>
            </ul>
          </div>
          <div>
            <div class="tag-label">System diagram (concept)</div>
            <div class="diagram-box">
              <strong>Flow:</strong><br /><br />
              Human setup → Start ROS&nbsp;2 nodes → RealSense detects red cup and
              publishes yaw → BeerPongThrow plans pick &amp; lift → backswing →
              monitored swing with angle-based release → ball flight to cup →
              robot returns home, human resets the ball.<br /><br />
              This mirrors the detailed system flow diagram from the project
              report while staying compact for the portfolio.
            </div>
          </div>
        </div>
      </section>

      <!-- PERCEPTION / CUP DETECTION -->
      <section id="perception">
        <div class="section-header">
          <h3>Perception & Cup Detection</h3>
          <span>RealSense-based red cup localization</span>
        </div>

        <p>
          A dedicated vision node uses an Intel RealSense RGB-D camera to detect the
          red cup and compute its yaw angle relative to the camera frame. The color
          image is converted to HSV, thresholded with two red masks, and the largest
          contour is used as the cup region. Depth at the contour centroid is
          combined with camera intrinsics to deproject to 3D and compute a yaw
          angle using <code>atan2(-X, Z)</code>. This angle is published on the
          <code>camera_start_angle_deg</code> topic and drives the robot’s base
          alignment.
        </p>

        <div class="two-col" style="margin-top:12px;">
          <div>
            <div class="tag-label">Cup centered in view</div>
            <div class="hero-media-inner" style="border-radius:14px; overflow:hidden;">
              <img src="images/cup_center.jpeg"
                   alt="Cup detection with cup centered in the workspace"
                   style="width:100%; display:block;" />
            </div>
          </div>
          <div>
            <div class="tag-label">Cup shifted to the right</div>
            <div class="hero-media-inner" style="border-radius:14px; overflow:hidden;">
              <img src="images/cup_right.jpeg"
                   alt="Cup detection with cup on the right side of the table"
                   style="width:100%; display:block;" />
            </div>
          </div>
        </div>

        <p class="footnote">
          The green bounding box highlights the detected cup, and the overlay
          shows the estimated (X, Y, Z) position and yaw angle. These coordinates
          provide the starting yaw for the throwing trajectory and help verify
          detection quality.
        </p>
      </section>

      <!-- TECHNICAL DETAILS -->
      <section id="technical">
        <div class="section-header">
          <h3>Technical Details</h3>
          <span>Throwing trajectory, threading, and tuning</span>
        </div>

        <div class="two-col">
          <div>
            <div class="tag-label">Throwing motion & kinematics</div>
            <p>
              The throwing motion is implemented in <code>throw_ball_forward()</code>:
              the arm moves to a retract/home configuration, executes a pre-grasp
              and grasp at the ball start pose, attaches a “ball” collision object
              in the planning scene, lifts to a safe height, then transitions into a
              swing from <code>joint_3 = -90°</code> to <code>+90°</code> while
              keeping the base yaw set by the camera.
            </p>
            <p>
              A 100&nbsp;Hz timer monitors the current <code>joint_3</code> angle.
              When it enters a tolerance window around the chosen release angle
              (e.g., −45°), the node publishes a <code>RELEASE</code> signal and
              stops the timer. This angle-based trigger lets the release happen in
              the middle of a fast, continuous swing instead of at a discrete pose.
            </p>
          </div>
          <div>
            <div class="tag-label">Concurrency, challenges & future work</div>
            <p>
              We use a multi-threaded ROS&nbsp;2 executor and a separate swing
              thread so that motion execution, joint monitoring, and camera
              callbacks can run concurrently. Early versions suffered from
              inconsistent release timing until we restructured the node with
              proper timers and threading.
            </p>
            <p>
              Major challenges included tuning joint velocities and release timing
              on a manipulator not designed for high-speed ballistic motions,
              debugging TF frames and topic timing during perception–planning
              integration, and managing asynchronous events. Future extensions
              include adding a more accurate aerodynamic model of the ball,
              predicting landing points before execution, and automatically
              generating optimized throwing trajectories for arbitrary cup
              positions.
            </p>
          </div>
        </div>
      </section>

      <!-- RESULTS -->
      <section id="results">
        <div class="section-header">
          <h3>Experiments & Results</h3>
          <span>Shot behavior and qualitative performance</span>
        </div>

        <p>
          We evaluated our system by running repeated throws toward a fixed cup
          location while varying parameters such as backswing angle, swing range,
          and release angle. The RealSense-based yaw estimate allowed the arm to
          consistently align with the target, and trajectory tuning significantly
          improved the fraction of shots that landed in or near the cup.
        </p>

        <div class="two-col">
          <div>
            <div class="tag-label">Example experiment (fill in your data)</div>
            <table>
              <thead>
                <tr>
                  <th>Experiment</th>
                  <th>Cup Distance</th>
                  <th>Shots</th>
                  <th>Hits</th>
                  <th>Hit Rate</th>
                </tr>
              </thead>
              <tbody>
                <!-- TODO: Replace these with your actual numbers -->
                <tr>
                  <td>Baseline (untuned)</td>
                  <td>1.5 m</td>
                  <td>20</td>
                  <td>—</td>
                  <td>—</td>
                </tr>
                <tr>
                  <td>After tuning</td>
                  <td>1.5 m</td>
                  <td>20</td>
                  <td>—</td>
                  <td>—</td>
                </tr>
              </tbody>
            </table>
            <p class="footnote">
              The table is a placeholder so we can keep the page concise. You can
              fill this in with the actual number of trials and successful shots
              from your experiments.
            </p>
          </div>
          <div>
            <div class="tag-label">Key observations</div>
            <ul>
              <li>
                Small changes in release angle, joint velocity scaling, or backswing
                magnitude drastically changed the ball’s landing point.
              </li>
              <li>
                The modular ROS&nbsp;2 structure (separate nodes for throwing,
                perception, and gripper logic) made it easier to debug integration
                issues and iterate on the behavior.
              </li>
              <li>
                Systematic parameter sweeps and controlled experiments were essential
                for moving from “occasionally lucky” throws to a stable and
                repeatable demo.
              </li>
            </ul>
          </div>
        </div>
      </section>

      <footer>
        <div>
          Beer Pong Robot Arm · Intro to Robotics Final Project ·
          <span>Arnav Mahale</span>
        </div>
      </footer>
    </main>
  </div>
</body>
</html>
